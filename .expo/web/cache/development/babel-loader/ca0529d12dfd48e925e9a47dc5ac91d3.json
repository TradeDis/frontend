{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/ryanhow/MSCI342/frontend/screens/NewPostScreen.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from \"react\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Tags from \"react-native-tags\";\nexport default function NewPostScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState({\n    title: \"\",\n    post_id: \"\",\n    requesting: true,\n    content: \"\",\n    location: \"\",\n    created_by: {},\n    date: new Date(),\n    status: \"active\",\n    tags: [],\n    comments: []\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      post = _useState2[0],\n      setPost = _useState2[1];\n\n  var _useState3 = useState(\"pending\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      status = _useState4[0],\n      setStatus = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      displayMessage = _useState6[0],\n      setDisplayMessage = _useState6[1];\n\n  var createPosting = function createPosting() {\n    Keyboard.dismiss();\n    setStatus(\"pending\");\n\n    if (!post.title || !post.content || !post.location) {\n      setStatus(\"error\");\n      setDisplayMessage(\"One or more required fields missing\");\n      return;\n    }\n\n    axios.post(\"http://localhost:3000/api/v1/posts\", post).then(function (resp) {\n      setStatus(\"success\");\n      setDisplayMessage(\"Successfully created post\");\n      navigation.navigate(\"HomeFeed\");\n    }).catch(function (err) {\n      setStatus(\"error\");\n      setDisplayMessage(err);\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.top,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate(\"HomeFeed\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.topSecondaryText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"Back\")), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"Create Post\")), React.createElement(Text, {\n    style: styles.topSecondaryText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \"Camera\")), React.createElement(View, {\n    style: styles.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Title\",\n    style: styles.formInput,\n    onChangeText: function onChangeText(title) {\n      return setPost(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          title: title\n        });\n      });\n    },\n    value: post.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Content\",\n    style: styles.formInput,\n    onChangeText: function onChangeText(content) {\n      return setPost(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          content: content\n        });\n      });\n    },\n    value: post.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Location\",\n    style: styles.formInput,\n    onChangeText: function onChangeText(location) {\n      return setPost(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          location: location\n        });\n      });\n    },\n    value: post.location,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: styles.tagsContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.tagsText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, \"Tags separated by commas\"), React.createElement(Tags, {\n    style: styles.tagsInput,\n    initialTags: [],\n    createTagOnString: [\",\"],\n    onChangeTags: function onChangeTags(tags) {\n      return setPost(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          tags: tags\n        });\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: styles.switchContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.switchOptions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, \"Trading\"), React.createElement(Switch, {\n    style: styles.switch,\n    trackColor: {\n      false: \"#767577\",\n      true: \"#EB5757\"\n    },\n    onValueChange: function onValueChange() {\n      return setPost(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          requesting: !prevState.requesting\n        });\n      });\n    },\n    value: post.requesting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    style: styles.switchOptions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, \"Requesting\")), React.createElement(TouchableOpacity, {\n    style: styles.postButton,\n    onPress: function onPress() {\n      return createPosting();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.postText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, \"Post!\")), (status === \"success\" || status === \"error\") && React.createElement(Text, {\n    style: {\n      marginTop: 10,\n      color: status === \"error\" ? \"red\" : \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, displayMessage)));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  top: {\n    flex: 2,\n    flexDirection: \"row\",\n    backgroundColor: \"#EB5757\",\n    justifyContent: \"space-evenly\",\n    alignItems: \"center\"\n  },\n  title: {\n    fontSize: 30,\n    color: \"#fff\"\n  },\n  topSecondaryText: {\n    color: \"#fff\",\n    fontSize: 17.5\n  },\n  form: {\n    width: \"100%\",\n    flex: 9,\n    alignItems: \"center\"\n  },\n  formInput: {\n    width: \"90%\",\n    height: 60,\n    borderColor: \"gray\",\n    borderBottomWidth: 1\n  },\n  switchContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginTop: 20\n  },\n  switch: {\n    marginHorizontal: 20\n  },\n  postButton: {\n    width: \"30%\",\n    height: 45,\n    backgroundColor: \"#EB5757\",\n    marginTop: 40,\n    borderRadius: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  postText: {\n    color: \"#fff\",\n    fontSize: 17.5\n  },\n  switchOptions: {\n    fontSize: 15\n  },\n  tagsContainer: {\n    margin: 15,\n    width: \"95%\"\n  },\n  tagsText: {\n    marginLeft: 20,\n    marginBottom: 5\n  },\n  tagsInput: {\n    marginHorizontal: 15\n  }\n});","map":{"version":3,"sources":["/Users/ryanhow/MSCI342/frontend/screens/NewPostScreen.tsx"],"names":["React","useState","axios","Tags","NewPostScreen","navigation","title","post_id","requesting","content","location","created_by","date","Date","status","tags","comments","post","setPost","setStatus","displayMessage","setDisplayMessage","createPosting","Keyboard","dismiss","then","resp","navigate","catch","err","styles","container","top","topSecondaryText","form","formInput","prevState","tagsContainer","tagsText","tagsInput","switchContainer","switchOptions","switch","false","true","postButton","postText","marginTop","color","StyleSheet","create","flex","flexDirection","backgroundColor","justifyContent","alignItems","fontSize","width","height","borderColor","borderBottomWidth","marginHorizontal","borderRadius","margin","marginLeft","marginBottom"],"mappings":";;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;;;;;AAUA,OAAOC,IAAP,MAAiB,mBAAjB;AAeA,eAAe,SAASC,aAAT,OAAuC;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAAA,kBAC5BJ,QAAQ,CAAO;AACrCK,IAAAA,KAAK,EAAE,EAD8B;AAErCC,IAAAA,OAAO,EAAE,EAF4B;AAGrCC,IAAAA,UAAU,EAAE,IAHyB;AAIrCC,IAAAA,OAAO,EAAE,EAJ4B;AAKrCC,IAAAA,QAAQ,EAAE,EAL2B;AAMrCC,IAAAA,UAAU,EAAE,EANyB;AAOrCC,IAAAA,IAAI,EAAE,IAAIC,IAAJ,EAP+B;AAQrCC,IAAAA,MAAM,EAAE,QAR6B;AASrCC,IAAAA,IAAI,EAAE,EAT+B;AAUrCC,IAAAA,QAAQ,EAAE;AAV2B,GAAP,CADoB;AAAA;AAAA,MAC7CC,IAD6C;AAAA,MACvCC,OADuC;;AAAA,mBAaxBjB,QAAQ,CAAC,SAAD,CAbgB;AAAA;AAAA,MAa7Ca,MAb6C;AAAA,MAarCK,SAbqC;;AAAA,mBAcRlB,QAAQ,CAAC,EAAD,CAdA;AAAA;AAAA,MAc7CmB,cAd6C;AAAA,MAc7BC,iBAd6B;;AAgBpD,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1BC,IAAAA,QAAQ,CAACC,OAAT;AACAL,IAAAA,SAAS,CAAC,SAAD,CAAT;;AACA,QAAI,CAACF,IAAI,CAACX,KAAN,IAAe,CAACW,IAAI,CAACR,OAArB,IAAgC,CAACQ,IAAI,CAACP,QAA1C,EAAoD;AAElDS,MAAAA,SAAS,CAAC,OAAD,CAAT;AACAE,MAAAA,iBAAiB,CAAC,qCAAD,CAAjB;AACA;AACD;;AAEDnB,IAAAA,KAAK,CACFe,IADH,uCAC8CA,IAD9C,EAEGQ,IAFH,CAEQ,UAAAC,IAAI,EAAI;AACZP,MAAAA,SAAS,CAAC,SAAD,CAAT;AACAE,MAAAA,iBAAiB,CAAC,2BAAD,CAAjB;AAEAhB,MAAAA,UAAU,CAACsB,QAAX,CAAoB,UAApB;AACD,KAPH,EAQGC,KARH,CAQS,UAAAC,GAAG,EAAI;AACZV,MAAAA,SAAS,CAAC,OAAD,CAAT;AACAE,MAAAA,iBAAiB,CAACQ,GAAD,CAAjB;AACD,KAXH;AAYD,GAtBD;;AAwBA,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEC,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAED,MAAM,CAACE,GAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAE;AAAA,aAAM3B,UAAU,CAACsB,QAAX,CAAoB,UAApB,CAAN;AAAA,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEG,MAAM,CAACG,gBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CADF,EAIE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEH,MAAM,CAACxB,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CAJF,EAOE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEwB,MAAM,CAACG,gBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF,CADF,EAUE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEH,MAAM,CAACI,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AACE,IAAA,WAAW,EAAC,OADd;AAEE,IAAA,KAAK,EAAEJ,MAAM,CAACK,SAFhB;AAGE,IAAA,YAAY,EAAE,sBAAA7B,KAAK;AAAA,aACjBY,OAAO,CAAC,UAAAkB,SAAS;AAAA,+CAAUA,SAAV;AAAqB9B,UAAAA,KAAK,EAAEA;AAA5B;AAAA,OAAV,CADU;AAAA,KAHrB;AAME,IAAA,KAAK,EAAEW,IAAI,CAACX,KANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EASE,oBAAC,SAAD;AACE,IAAA,WAAW,EAAC,SADd;AAEE,IAAA,KAAK,EAAEwB,MAAM,CAACK,SAFhB;AAGE,IAAA,YAAY,EAAE,sBAAA1B,OAAO;AAAA,aACnBS,OAAO,CAAC,UAAAkB,SAAS;AAAA,+CAAUA,SAAV;AAAqB3B,UAAAA,OAAO,EAAEA;AAA9B;AAAA,OAAV,CADY;AAAA,KAHvB;AAME,IAAA,KAAK,EAAEQ,IAAI,CAACR,OANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAiBE,oBAAC,SAAD;AACE,IAAA,WAAW,EAAC,UADd;AAEE,IAAA,KAAK,EAAEqB,MAAM,CAACK,SAFhB;AAGE,IAAA,YAAY,EAAE,sBAAAzB,QAAQ;AAAA,aACpBQ,OAAO,CAAC,UAAAkB,SAAS;AAAA,+CAAUA,SAAV;AAAqB1B,UAAAA,QAAQ,EAAEA;AAA/B;AAAA,OAAV,CADa;AAAA,KAHxB;AAME,IAAA,KAAK,EAAEO,IAAI,CAACP,QANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjBF,EAyBE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEoB,MAAM,CAACO,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEP,MAAM,CAACQ,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,EAEE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAER,MAAM,CAACS,SADhB;AAEE,IAAA,WAAW,EAAE,EAFf;AAGE,IAAA,iBAAiB,EAAE,CAAC,GAAD,CAHrB;AAIE,IAAA,YAAY,EAAE,sBAAAxB,IAAI;AAAA,aAChBG,OAAO,CAAC,UAAAkB,SAAS;AAAA,+CAAUA,SAAV;AAAqBrB,UAAAA,IAAI,EAAEA;AAA3B;AAAA,OAAV,CADS;AAAA,KAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAzBF,EAoCE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEe,MAAM,CAACU,eAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEV,MAAM,CAACW,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAEX,MAAM,CAACY,MADhB;AAEE,IAAA,UAAU,EAAE;AAAEC,MAAAA,KAAK,EAAE,SAAT;AAAoBC,MAAAA,IAAI,EAAE;AAA1B,KAFd;AAGE,IAAA,aAAa,EAAE;AAAA,aACb1B,OAAO,CAAC,UAAAkB,SAAS;AAAA,+CACZA,SADY;AAEf5B,UAAAA,UAAU,EAAE,CAAC4B,SAAS,CAAC5B;AAFR;AAAA,OAAV,CADM;AAAA,KAHjB;AASE,IAAA,KAAK,EAAES,IAAI,CAACT,UATd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAaE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEsB,MAAM,CAACW,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbF,CApCF,EAmDE,oBAAC,gBAAD;AACE,IAAA,KAAK,EAAEX,MAAM,CAACe,UADhB;AAEE,IAAA,OAAO,EAAE;AAAA,aAAMvB,aAAa,EAAnB;AAAA,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEQ,MAAM,CAACgB,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJF,CAnDF,EAyDG,CAAChC,MAAM,KAAK,SAAX,IAAwBA,MAAM,KAAK,OAApC,KACC,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AACLiC,MAAAA,SAAS,EAAE,EADN;AAELC,MAAAA,KAAK,EAAElC,MAAM,KAAK,OAAX,GAAqB,KAArB,GAA6B;AAF/B,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGM,cANH,CA1DJ,CAVF,CADF;AAiFD;AAED,IAAMU,MAAM,GAAGmB,UAAU,CAACC,MAAX,CAAkB;AAC/BnB,EAAAA,SAAS,EAAE;AACToB,IAAAA,IAAI,EAAE;AADG,GADoB;AAI/BnB,EAAAA,GAAG,EAAE;AACHmB,IAAAA,IAAI,EAAE,CADH;AAEHC,IAAAA,aAAa,EAAE,KAFZ;AAGHC,IAAAA,eAAe,EAAE,SAHd;AAIHC,IAAAA,cAAc,EAAE,cAJb;AAKHC,IAAAA,UAAU,EAAE;AALT,GAJ0B;AAW/BjD,EAAAA,KAAK,EAAE;AACLkD,IAAAA,QAAQ,EAAE,EADL;AAELR,IAAAA,KAAK,EAAE;AAFF,GAXwB;AAe/Bf,EAAAA,gBAAgB,EAAE;AAChBe,IAAAA,KAAK,EAAE,MADS;AAEhBQ,IAAAA,QAAQ,EAAE;AAFM,GAfa;AAmB/BtB,EAAAA,IAAI,EAAE;AACJuB,IAAAA,KAAK,EAAE,MADH;AAEJN,IAAAA,IAAI,EAAE,CAFF;AAGJI,IAAAA,UAAU,EAAE;AAHR,GAnByB;AAwB/BpB,EAAAA,SAAS,EAAE;AACTsB,IAAAA,KAAK,EAAE,KADE;AAETC,IAAAA,MAAM,EAAE,EAFC;AAGTC,IAAAA,WAAW,EAAE,MAHJ;AAITC,IAAAA,iBAAiB,EAAE;AAJV,GAxBoB;AA8B/BpB,EAAAA,eAAe,EAAE;AACfY,IAAAA,aAAa,EAAE,KADA;AAEfG,IAAAA,UAAU,EAAE,QAFG;AAGfR,IAAAA,SAAS,EAAE;AAHI,GA9Bc;AAmC/BL,EAAAA,MAAM,EAAE;AACNmB,IAAAA,gBAAgB,EAAE;AADZ,GAnCuB;AAsC/BhB,EAAAA,UAAU,EAAE;AACVY,IAAAA,KAAK,EAAE,KADG;AAEVC,IAAAA,MAAM,EAAE,EAFE;AAGVL,IAAAA,eAAe,EAAE,SAHP;AAIVN,IAAAA,SAAS,EAAE,EAJD;AAKVe,IAAAA,YAAY,EAAE,EALJ;AAMVR,IAAAA,cAAc,EAAE,QANN;AAOVC,IAAAA,UAAU,EAAE;AAPF,GAtCmB;AA+C/BT,EAAAA,QAAQ,EAAE;AACRE,IAAAA,KAAK,EAAE,MADC;AAERQ,IAAAA,QAAQ,EAAE;AAFF,GA/CqB;AAmD/Bf,EAAAA,aAAa,EAAE;AACbe,IAAAA,QAAQ,EAAE;AADG,GAnDgB;AAsD/BnB,EAAAA,aAAa,EAAE;AACb0B,IAAAA,MAAM,EAAE,EADK;AAEbN,IAAAA,KAAK,EAAE;AAFM,GAtDgB;AA0D/BnB,EAAAA,QAAQ,EAAE;AACR0B,IAAAA,UAAU,EAAE,EADJ;AAERC,IAAAA,YAAY,EAAE;AAFN,GA1DqB;AA8D/B1B,EAAAA,SAAS,EAAE;AACTsB,IAAAA,gBAAgB,EAAE;AADT;AA9DoB,CAAlB,CAAf","sourcesContent":["import * as React from \"react\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport {\n  StyleSheet,\n  View,\n  Text,\n  TextInput,\n  Switch,\n  TouchableOpacity,\n  Keyboard\n} from \"react-native\";\nimport Tags from \"react-native-tags\";\n\ninterface Post {\n  post_id: string;\n  title: string;\n  requesting: boolean;\n  content: string;\n  location: string;\n  created_by: object;\n  date: Date;\n  status: string;\n  tags: string[];\n  comments: object[];\n}\n\nexport default function NewPostScreen({ navigation }) {\n  const [post, setPost] = useState<Post>({\n    title: \"\",\n    post_id: \"\",\n    requesting: true,\n    content: \"\",\n    location: \"\",\n    created_by: {},\n    date: new Date(),\n    status: \"active\",\n    tags: [],\n    comments: []\n  });\n  const [status, setStatus] = useState(\"pending\");\n  const [displayMessage, setDisplayMessage] = useState(\"\");\n\n  const createPosting = () => {\n    Keyboard.dismiss(); //close keyboard on mobile devices\n    setStatus(\"pending\");\n    if (!post.title || !post.content || !post.location) {\n      //error checking to ensure all fields are present\n      setStatus(\"error\");\n      setDisplayMessage(\"One or more required fields missing\");\n      return;\n    }\n    //perform api request to create new post\n    axios\n      .post(`http://localhost:3000/api/v1/posts`, post)\n      .then(resp => {\n        setStatus(\"success\");\n        setDisplayMessage(\"Successfully created post\");\n        //navigate back to homefeed after success\n        navigation.navigate(\"HomeFeed\");\n      })\n      .catch(err => {\n        setStatus(\"error\");\n        setDisplayMessage(err);\n      });\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.top}>\n        <TouchableOpacity onPress={() => navigation.navigate(\"HomeFeed\")}>\n          <Text style={styles.topSecondaryText}>Back</Text>\n        </TouchableOpacity>\n        <View>\n          <Text style={styles.title}>Create Post</Text>\n        </View>\n        <Text style={styles.topSecondaryText}>Camera</Text>\n      </View>\n      <View style={styles.form}>\n        <TextInput\n          placeholder=\"Title\"\n          style={styles.formInput}\n          onChangeText={title =>\n            setPost(prevState => ({ ...prevState, title: title }))\n          }\n          value={post.title}\n        />\n        <TextInput\n          placeholder=\"Content\"\n          style={styles.formInput}\n          onChangeText={content =>\n            setPost(prevState => ({ ...prevState, content: content }))\n          }\n          value={post.content}\n        />\n        <TextInput\n          placeholder=\"Location\"\n          style={styles.formInput}\n          onChangeText={location =>\n            setPost(prevState => ({ ...prevState, location: location }))\n          }\n          value={post.location}\n        />\n        <View style={styles.tagsContainer}>\n          <Text style={styles.tagsText}>Tags separated by commas</Text>\n          <Tags\n            style={styles.tagsInput}\n            initialTags={[]}\n            createTagOnString={[\",\"]}\n            onChangeTags={tags =>\n              setPost(prevState => ({ ...prevState, tags: tags }))\n            }\n          />\n        </View>\n        <View style={styles.switchContainer}>\n          <Text style={styles.switchOptions}>Trading</Text>\n          <Switch\n            style={styles.switch}\n            trackColor={{ false: \"#767577\", true: \"#EB5757\" }}\n            onValueChange={() =>\n              setPost(prevState => ({\n                ...prevState,\n                requesting: !prevState.requesting\n              }))\n            }\n            value={post.requesting}\n          />\n          <Text style={styles.switchOptions}>Requesting</Text>\n        </View>\n        <TouchableOpacity\n          style={styles.postButton}\n          onPress={() => createPosting()}\n        >\n          <Text style={styles.postText}>Post!</Text>\n        </TouchableOpacity>\n        {(status === \"success\" || status === \"error\") && (\n          <Text\n            style={{\n              marginTop: 10,\n              color: status === \"error\" ? \"red\" : \"green\"\n            }}\n          >\n            {displayMessage}\n          </Text>\n        )}\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  top: {\n    flex: 2,\n    flexDirection: \"row\",\n    backgroundColor: \"#EB5757\",\n    justifyContent: \"space-evenly\",\n    alignItems: \"center\"\n  },\n  title: {\n    fontSize: 30,\n    color: \"#fff\"\n  },\n  topSecondaryText: {\n    color: \"#fff\",\n    fontSize: 17.5\n  },\n  form: {\n    width: \"100%\",\n    flex: 9,\n    alignItems: \"center\"\n  },\n  formInput: {\n    width: \"90%\",\n    height: 60,\n    borderColor: \"gray\",\n    borderBottomWidth: 1\n  },\n  switchContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginTop: 20\n  },\n  switch: {\n    marginHorizontal: 20\n  },\n  postButton: {\n    width: \"30%\",\n    height: 45,\n    backgroundColor: \"#EB5757\",\n    marginTop: 40,\n    borderRadius: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  postText: {\n    color: \"#fff\",\n    fontSize: 17.5\n  },\n  switchOptions: {\n    fontSize: 15\n  },\n  tagsContainer: {\n    margin: 15,\n    width: \"95%\"\n  },\n  tagsText: {\n    marginLeft: 20,\n    marginBottom: 5\n  },\n  tagsInput: {\n    marginHorizontal: 15\n  }\n});\n"]},"metadata":{},"sourceType":"module"}