{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/ryanhow/MSCI342/frontend/screens/HomeFeedScreen.tsx\";\nimport * as React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Posting } from \"./../components/Posting\";\nimport axios from \"axios\";\nimport BottomNavigation from \"../components/BottomNavigation\";\nexport default function HomeFeedScreen(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      posts = _useState6[0],\n      setPosts = _useState6[1];\n\n  useEffect(function () {\n    var unsubscribe = navigation.addListener(\"focus\", function () {\n      fetchPosts();\n    });\n    return unsubscribe;\n  }, [navigation]);\n\n  var fetchPosts = function fetchPosts() {\n    axios.get(process.env.API_URL + \"/api/v1/posts\").then(function (resp) {\n      setPosts(resp.data);\n    }).catch(function (err) {\n      setError(err);\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.top,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.topElements,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.topSecondaryText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, \"Avatar\"), React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"TradeDis\"), React.createElement(Text, {\n    style: styles.topSecondaryText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"Filter\")), React.createElement(TextInput, {\n    style: styles.search,\n    placeholder: \"Search\",\n    placeholderTextColor: \"black\",\n    onChangeText: function onChangeText(searchText) {\n      return setSearch(searchText);\n    },\n    value: search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: styles.feed,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.newPostingsContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.postingSubtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \"New Postings\"), error ? React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Error retrieving posts\") : posts.length === 0 ? React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"No results available\") : React.createElement(View, {\n    style: styles.postings,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, React.createElement(ScrollView, {\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, posts.map(function (post) {\n    return React.createElement(Posting, {\n      key: post.post_id,\n      post: post,\n      navigation: navigation,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    });\n  })))), React.createElement(View, {\n    style: styles.trendingContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.postingSubtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, \"Trending\"), error ? React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"Error retrieving posts\") : posts.length === 0 ? React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"No results available\") : React.createElement(View, {\n    style: styles.postings,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, React.createElement(ScrollView, {\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, posts.map(function (post) {\n    return React.createElement(Posting, {\n      key: post.post_id,\n      post: post,\n      navigation: navigation,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }\n    });\n  }))))), React.createElement(BottomNavigation, {\n    navigation: navigation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  top: {\n    flex: 3,\n    width: \"100%\",\n    backgroundColor: \"#EB5757\",\n    justifyContent: \"center\"\n  },\n  topElements: {\n    flexDirection: \"row\",\n    justifyContent: \"space-evenly\",\n    backgroundColor: \"#EB5757\"\n  },\n  title: {\n    fontSize: 35,\n    color: \"#fff\",\n    fontWeight: \"bold\"\n  },\n  topSecondaryText: {\n    color: \"#fff\",\n    fontSize: 17.5\n  },\n  search: {\n    height: 60,\n    borderColor: \"black\",\n    borderWidth: 2,\n    marginHorizontal: 20,\n    marginTop: 30,\n    borderRadius: 50,\n    padding: 10,\n    backgroundColor: \"white\"\n  },\n  feed: {\n    flex: 7\n  },\n  newPostingsContainer: {\n    margin: 15\n  },\n  trendingContainer: {\n    margin: 15\n  },\n  postingSubtitle: {\n    fontSize: 25,\n    fontWeight: \"bold\",\n    color: \"black\"\n  },\n  postings: {\n    flexDirection: \"row\"\n  }\n});","map":{"version":3,"sources":["/Users/ryanhow/MSCI342/frontend/screens/HomeFeedScreen.tsx"],"names":["React","useState","useEffect","Posting","axios","BottomNavigation","HomeFeedScreen","navigation","search","setSearch","error","setError","posts","setPosts","unsubscribe","addListener","fetchPosts","get","process","env","API_URL","then","resp","data","catch","err","styles","container","top","topElements","topSecondaryText","title","searchText","feed","newPostingsContainer","postingSubtitle","length","postings","map","post","post_id","trendingContainer","StyleSheet","create","flex","width","backgroundColor","justifyContent","flexDirection","fontSize","color","fontWeight","height","borderColor","borderWidth","marginHorizontal","marginTop","borderRadius","padding","margin"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport {\n  StyleSheet,\n  TextInput,\n  Text,\n  View,\n  ScrollView,\n  TouchableOpacity\n} from \"react-native\";\nimport { Posting } from \"./../components/Posting\";\nimport axios from \"axios\";\nimport BottomNavigation from \"../components/BottomNavigation\";\n\ninterface Post {\n  post_id: string;\n  title: string;\n  requesting: boolean;\n  content: string;\n  location: string;\n  created_by: object;\n  date: Date;\n  status: string;\n  tags: string[];\n  comments: object[];\n}\n\nexport default function HomeFeedScreen({ navigation }) {\n  const [search, setSearch] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [posts, setPosts] = useState<Post[]>([]);\n\n  useEffect(() => {\n    //whenever screen is focused\n    const unsubscribe = navigation.addListener(\"focus\", () => {\n      fetchPosts();\n    });\n    return unsubscribe;\n  }, [navigation]);\n\n  //retrive posts from DB\n  const fetchPosts = () => {\n    axios\n      .get(`${process.env.API_URL}/api/v1/posts`)\n      .then(resp => {\n        setPosts(resp.data);\n      })\n      .catch(err => {\n        setError(err);\n      });\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.top}>\n        <View style={styles.topElements}>\n          <Text style={styles.topSecondaryText}>Avatar</Text>\n          <Text style={styles.title}>TradeDis</Text>\n          <Text style={styles.topSecondaryText}>Filter</Text>\n        </View>\n        <TextInput\n          style={styles.search}\n          placeholder=\"Search\"\n          placeholderTextColor=\"black\"\n          onChangeText={searchText => setSearch(searchText)}\n          value={search}\n        />\n      </View>\n      <View style={styles.feed}>\n        <View style={styles.newPostingsContainer}>\n          <Text style={styles.postingSubtitle}>New Postings</Text>\n          {error ? (\n            <Text>Error retrieving posts</Text>\n          ) : posts.length === 0 ? (\n            <Text>No results available</Text>\n          ) : (\n            <View style={styles.postings}>\n              <ScrollView horizontal={true}>\n                {posts.map(post => (\n                  <Posting\n                    key={post.post_id}\n                    post={post}\n                    navigation={navigation}\n                  ></Posting>\n                ))}\n              </ScrollView>\n            </View>\n          )}\n        </View>\n        <View style={styles.trendingContainer}>\n          <Text style={styles.postingSubtitle}>Trending</Text>\n          {error ? (\n            <Text>Error retrieving posts</Text>\n          ) : posts.length === 0 ? (\n            <Text>No results available</Text>\n          ) : (\n            <View style={styles.postings}>\n              <ScrollView horizontal={true}>\n                {posts.map(post => (\n                  <Posting\n                    key={post.post_id}\n                    post={post}\n                    navigation={navigation}\n                  ></Posting>\n                ))}\n              </ScrollView>\n            </View>\n          )}\n        </View>\n      </View>\n      <BottomNavigation navigation={navigation}></BottomNavigation>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  top: {\n    flex: 3,\n    width: \"100%\",\n    backgroundColor: \"#EB5757\",\n    justifyContent: \"center\"\n  },\n  topElements: {\n    flexDirection: \"row\",\n    justifyContent: \"space-evenly\",\n    backgroundColor: \"#EB5757\"\n  },\n  title: {\n    fontSize: 35,\n    color: \"#fff\",\n    fontWeight: \"bold\"\n  },\n  topSecondaryText: {\n    color: \"#fff\",\n    fontSize: 17.5\n  },\n  search: {\n    height: 60,\n    borderColor: \"black\",\n    borderWidth: 2,\n    marginHorizontal: 20,\n    marginTop: 30,\n    borderRadius: 50,\n    padding: 10,\n    backgroundColor: \"white\"\n  },\n  feed: {\n    flex: 7\n  },\n  newPostingsContainer: {\n    margin: 15\n  },\n  trendingContainer: {\n    margin: 15\n  },\n  postingSubtitle: {\n    fontSize: 25,\n    fontWeight: \"bold\",\n    color: \"black\"\n  },\n  postings: {\n    flexDirection: \"row\"\n  }\n});\n"]},"metadata":{},"sourceType":"module"}